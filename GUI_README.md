# RCS POD分析程序 - 图形界面使用指南

## 🚀 快速开始

### 启动GUI
```bash
python run_gui.py
```

或者直接运行：
```bash
python rcs_gui.py
```

## 📱 界面介绍

### 主界面布局
- **左侧**: 参数控制面板（分4个标签页）
- **右侧**: 实时运行日志显示
- **底部**: 运行控制按钮

### 标签页说明

#### 1. 基础参数
控制程序的主要运行参数：
- **参数文件路径**: 设计参数CSV文件位置
- **RCS数据目录**: RCS数据文件夹位置  
- **输出目录**: 分析结果保存位置
- **分析频率**: 选择1.5GHz、3GHz或两个都分析
- **模型数量**: 要分析的飞机模型数量
- **训练集大小**: 可以输入单个数值如"80"，或多个数值如"60,70,80"
- **预测模式**: 勾选后可以预测新参数的RCS

#### 2. POD参数
控制传统POD分析的参数：
- **能量覆盖阈值**: 选择保留模态的能量覆盖百分比（90%/95%/99%）
- **可视化模态数量**: 用于详细分析的模态数量

#### 3. 自编码器参数
控制深度学习自编码器的核心参数：
- **潜在空间维度**: 如"5,10,15,20"，会训练多个不同维度的模型
- **模型类型**: 可选择标准自编码器和/或变分自编码器
- **计算设备**: auto（自动）、cpu或cuda
- **训练轮数**: 深度学习模型的训练次数
- **学习率**: 控制模型学习速度
- **批次大小**: 选择自动优化或手动设置

#### 4. 训练参数  
精细控制训练过程的高级参数：
- **L2正则化系数**: 防止过拟合，默认1e-5
- **VAE KL散度权重**: 变分自编码器的特殊参数
- **早停耐心值**: 验证损失不改善时的等待轮数
- **学习率调度参数**: 控制学习率衰减

## 🎮 使用流程

### 基本使用
1. **设置路径**: 在"基础参数"中设置数据文件路径
2. **选择参数**: 根据需要调整各项参数
3. **开始分析**: 点击"开始分析"按钮
4. **查看日志**: 在右侧实时查看运行进度
5. **查看结果**: 分析完成后在输出目录查看结果

### 高级功能

#### 保存/加载配置
- **保存配置**: 将当前所有参数保存到JSON文件
- **加载配置**: 从JSON文件加载之前保存的参数设置
- 配置文件默认保存为`rcs_gui_config.json`

#### 生成命令行
- 点击"生成命令"可以查看对应的命令行调用方式
- 支持复制到剪贴板，方便在脚本中使用

#### 预测模式
1. 勾选"基础参数"中的"启用预测模式"
2. 选择包含新设计参数的CSV文件
3. 运行分析将基于训练好的模型预测新参数的RCS

## 🔧 参数说明

### 重要提示
- **POD参数**和**训练参数**标签页中的参数需要修改源代码才能生效
- **基础参数**和**自编码器参数**可以通过GUI直接控制
- 建议先使用默认参数进行测试分析

### 性能建议
| 场景 | 建议配置 | 预计时间 |
|------|----------|----------|
| 快速测试 | 模型数量20，训练集大小60 | 5-10分钟 |
| 标准分析 | 模型数量100，训练集大小80 | 20-40分钟 |
| 完整对比 | 全部参数，多训练集大小 | 1-3小时 |

### 典型参数组合

#### 快速验证
```
模型数量: 20
分析频率: 1.5G
训练集大小: 60
自编码器维度: 5,10
```

#### 标准研究
```
模型数量: 100  
分析频率: both
训练集大小: 70,80,90
自编码器维度: 5,10,15,20
```

#### 高精度分析
```
模型数量: 100
分析频率: both  
训练集大小: 60,70,80,90
自编码器维度: 10,20,30,40
训练轮数: 500
学习率: 0.0001
```

## ❗ 常见问题

### GUI无法启动
- 检查是否安装了tkinter：`python -c "import tkinter"`
- Windows系统可能需要重新安装Python

### 编码错误 ('gbk' codec错误)
Windows系统常见的编码问题，解决方案：
1. **命令提示符(CMD)**:
   ```cmd
   chcp 65001
   python run_gui.py
   ```

2. **PowerShell** (推荐):
   ```powershell
   python run_gui.py
   ```

3. **设置环境变量**:
   ```cmd
   set PYTHONIOENCODING=utf-8
   python run_gui.py
   ```

4. **VSCode终端**: 通常自动处理编码问题

### 分析过程中出错
- 检查数据文件路径是否正确
- 确保有足够的磁盘空间
- 查看右侧日志了解具体错误信息

### 内存不足
- 减少模型数量
- 降低自编码器批次大小
- 选择CPU而非GPU计算

### 无法找到数据文件
- 使用"浏览"按钮选择正确的文件/目录
- 确保CSV文件格式正确
- 检查文件权限

## 📊 输出结果

分析完成后，在输出目录中会生成：
```
results/
├── 1.5GHz/或3GHz/
│   └── train_XX/
│       ├── modes/              # POD模态图
│       ├── reconstruction_train/  # 重构分析
│       ├── autoencoder/        # 自编码器结果
│       ├── test/               # 测试集分析
│       └── predictions/        # 预测结果（如果启用）
```

## 🆘 技术支持

如果遇到问题：
1. 查看GUI右侧的日志输出
2. 检查USAGE.md了解参数详情
3. 确认数据文件完整性
4. 检查系统内存和磁盘空间

---
*GUI版本创建于2024年，基于命令行版本制作*